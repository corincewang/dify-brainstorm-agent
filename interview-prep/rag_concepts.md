# RAG 面试核心概念速查

## 1. 基础概念

### Q: 什么是 RAG？
**A:** Retrieval-Augmented Generation，检索增强生成。通过检索相关文档来增强 LLM 的回答准确性。

**核心价值：**
- 解决 LLM 知识截止时间问题
- 减少幻觉 (Hallucination)
- 提供可追溯的信息来源

### Q: RAG vs Fine-tuning 的区别？
**A:** 
- **RAG**: 不改变模型，通过外部知识增强
- **Fine-tuning**: 改变模型参数，需要大量数据和计算资源

**RAG 优势：**
- 成本低，部署快
- 知识可实时更新
- 不需要重新训练模型

## 2. 技术实现

### Q: Chunking 策略有哪些？
**A:** 
1. **固定长度分块**: 按字符数或 token 数切分
2. **语义分块**: 按段落、句子切分
3. **重叠分块**: 块之间有重叠，避免信息丢失

**我的项目中使用：**
- Chunk size: 1000 tokens
- Overlap: 200 tokens
- 分隔符优先级: 段落 → 句子 → 空格

### Q: 如何选择 Embedding 模型？
**A:** 
**考虑因素：**
- 语言支持 (中文/英文)
- 维度大小 (768/1536)
- 成本 (API vs 本地部署)
- 性能 (准确率 vs 速度)

**我的选择：**
- 生产环境: OpenAI text-embedding-ada-002 (高准确率)
- 开发环境: BGE-small (免费本地部署)

### Q: 向量相似度计算方法？
**A:** 
1. **余弦相似度**: 最常用，范围 [-1, 1]
2. **欧几里得距离**: 计算向量间距离
3. **点积**: 简单但受向量长度影响

**公式：**
```
余弦相似度 = (A·B) / (||A|| × ||B||)
```

## 3. 性能优化

### Q: 如何评估 RAG 系统性能？
**A:** 
**核心指标：**
- **Recall@K**: 前K个结果中包含相关文档的比例
- **Precision@K**: 前K个结果中相关文档的比例
- **MRR**: 平均倒数排名

**我的项目结果：**
- Recall@10: 100% (完美检索)
- MRR: 1.0 (完美排序)
- 平均相似度: 0.8048

### Q: RAG 系统的常见问题和解决方案？
**A:** 
**问题1: 检索不准确**
- 解决: 改进 chunking 策略，使用更好的 embedding 模型

**问题2: 响应速度慢**
- 解决: 向量索引优化，批处理，缓存

**问题3: 上下文长度限制**
- 解决: 智能文档排序，重要信息优先

## 4. 生产部署

### Q: RAG 系统的架构设计？
**A:** 
```
用户请求 → API Gateway → RAG Service → Vector DB
                     ↓
                 LLM Service → 响应
```

**我的项目架构：**
- FastAPI 微服务
- Docker 容器化
- OpenAI API 集成
- 环境变量管理

### Q: 如何保证系统可靠性？
**A:** 
**关键措施：**
- 错误处理和降级策略
- API 限流和重试机制
- 监控和日志记录
- 成本控制和预算管理

## 5. 项目亮点

### 我的 RAG 项目特色：
1. **完整的端到端流程**: 从文档上传到智能问答
2. **企业级性能评估**: 实现了 Recall@K 等专业指标
3. **微服务架构**: 可扩展的服务设计
4. **多语言支持**: 英中翻译集成
5. **生产就绪**: Docker 部署，环境配置

### 技术栈展示：
- **后端**: FastAPI, Python, Docker
- **AI**: OpenAI API, Embedding, RAG
- **数据库**: 向量数据库 (概念理解)
- **部署**: 容器化, 环境管理
- **评估**: 性能指标, 质量分析

## 6. 面试演示脚本

### 5分钟项目介绍：
1. **背景 (30秒)**: "我构建了一个基于 RAG 的智能问答系统"
2. **技术架构 (2分钟)**: 展示 RAG 流程和微服务设计
3. **核心功能 (1.5分钟)**: 演示翻译和问答功能
4. **技术亮点 (1分钟)**: 性能评估和生产特性

### 常见追问准备：
- "为什么选择 RAG 而不是 Fine-tuning？"
- "如何处理中文文档的分词问题？"
- "系统的并发性能如何？"
- "如何控制 API 调用成本？"
